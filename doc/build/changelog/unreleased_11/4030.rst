.. change:: 4030
    :tags: bug, orm
    :versions: 1.2.0b2
    :tickets: 4030

    Added ``KeyError`` checks to all methods within
    :class:`.WeakInstanceDict` where a check for ``key in dict`` is
    followed by indexed access to that key, to guard against a race against
    garbage collection that under load can remove the key from the dict
    after the code assumes its present, leading to very infrequent
    ``KeyError`` raises.
